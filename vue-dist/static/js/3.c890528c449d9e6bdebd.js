webpackJsonp([3],{Mrgy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{weekCountData:[],testdata:{},weekQualityData:[],weekAnalysisData:[],weekProcesstimeData:[],valueWeek:""}},created:function(){this.testdata["珠1"]=[0,4],this.testdata["珠2"]=[4,4],this.testdata["粤东"]=[8,4],this.testdata["粤西"]=[12,4],this.testdata["粤北"]=[16,5]},computed:{myYear:function(){return this.valueWeek.getFullYear()},myMonth:function(){return this.valueWeek.getMonth()},myDate:function(){return this.valueWeek.getDate()}},methods:{table_weekCount:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/amount/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate,target:"table"}}).then(function(e){e.data.status&&(t.weekCountData=e.data.result)}).catch(function(t){console.log(t)})},objectSpanMethod:function(t){var e=t.row,a=(t.column,t.rowIndex);if(0===t.columnIndex)return a===this.testdata[e.area][0]?{rowspan:this.testdata[e.area][1],colspan:1}:{rowspan:0,colspan:0}},draw_weekCount:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/amount/",data:{statisticsType:4,year:this.myYear,week:this.myMonth,day:this.myDate,target:"table"}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=[],n=[],r=[],l=[],o=e.data.result,h=e.data.result.length,c=0;c<h;c++)a.push(o[c].city),i.push(o[c].transmission),s.push(o[c].dynamics),n.push(o[c].exchange),r.push(o[c].AN),l.push(o[c].wireless);t.$echarts.init(document.getElementById("chart_weekCount")).setOption({title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["传输","动力","交换","接入网","无线"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value",height:600},xAxis:{type:"category",data:a},series:[{name:"传输",type:"bar",stack:"总量",label:{normal:{show:!1,position:"insideRight"}},data:i},{name:"动力",type:"bar",stack:"总量",label:{normal:{show:!1,position:"insideRight"}},data:s},{name:"交换",type:"bar",stack:"总量",label:{normal:{show:!1,position:"insideRight"}},data:n},{name:"接入网",type:"bar",stack:"总量",label:{normal:{show:!1,position:"insideRight"}},data:r},{name:"无线",type:"bar",stack:"总量",label:{normal:{show:!1,position:"insideRight"}},data:l}]})}}).catch(function(t){console.log(t)})},table_weekQuality:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/quality/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){e.data.status&&(t.weekQualityData=e.data.result)}).catch(function(t){console.log(t)})},getAverage:function(t){var e=t.columns,a=t.data,i=[],s=[];return e.forEach(function(t,e){if(0!==e){var n=a.map(function(e){return Number(e[t.property])});n.every(function(t){return isNaN(t)})?s[e]="N/A":(i[e]=n.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),i[e]+=" ",s[e]=i[e]/n.length,s[e]=s[e].toFixed(2))}else s[e]="平均值"}),s},draw_weekIntimeRate:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/quality/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=e.data.result,n=e.data.result.length,r=0;r<n;r++)a.push(s[r].city),i.push(s[r].IntimeRate);t.$echarts.init(document.getElementById("chart_IntimeRate")).setOption({title:{text:"处理及时率"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:i,type:"bar"}]})}}).catch(function(t){console.log(t)})},draw_weekAverageTime:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/quality/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=e.data.result,n=e.data.result.length,r=0;r<n;r++)a.push(s[r].city),i.push(s[r].AverageTime);t.$echarts.init(document.getElementById("chart_AverageTime")).setOption({title:{text:"平均处理时长"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:i,type:"bar"}]})}}).catch(function(t){console.log(t)})},draw_weekOver48Rate:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/quality/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=e.data.result,n=e.data.result.length,r=0;r<n;r++)a.push(s[r].city),i.push(s[r].Over48Rate);t.$echarts.init(document.getElementById("chart_Over48Rate")).setOption({title:{text:"超过48小时工单占比"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:i,type:"bar"}]})}}).catch(function(t){console.log(t)})},table_weekAnalysis:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/specific/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){e.data.status&&(t.weekAnalysisData=e.data.result)}).catch(function(t){console.log(t)})},table_weekProcesstime:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/specific/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){e.data.status&&(t.weekProcesstimeData=e.data.result)}).catch(function(t){console.log(t)})},draw_weekAnalysis:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/specific/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=[],n=[],r=[],l=[],o=e.data.result,h=e.data.result.length,c=0;c<h;c++)a.push(o[c].city),i.push(o[c].line_amount),s.push(o[c].power_amount),n.push(o[c].equipment_amount),r.push(o[c].environment_amount),l.push(o[c].other_amount);t.$echarts.init(document.getElementById("chart_weekAnalysis")).setOption({tooltip:{trigger:"axis"},legend:{data:["线路","停电","设备","动环","其他"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value"},series:[{name:"线路",type:"line",stack:"总量",data:i},{name:"停电",type:"line",stack:"总量",data:s},{name:"设备",type:"line",stack:"总量",data:n},{name:"动环",type:"line",stack:"总量",data:r},{name:"其他",type:"line",stack:"总量",data:l}]})}}).catch(function(t){console.log(t)})},draw_weekLinePower:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/specific/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=[],n=e.data.result,r=e.data.result.length,l=0;l<r;l++)a.push(n[l].city),i.push(n[l].line_amount),s.push(-1*n[l].power_amount);t.$echarts.init(document.getElementById("chart_linePower")).setOption({title:{text:"线路及停电故障单量"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["线路","停电"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"value",axisLabel:{formatter:function(t){return Math.abs(t)}}}],yAxis:[{type:"category",axisTick:{show:!1},data:a}],series:[{name:"线路",type:"bar",stack:"总量",label:{normal:{show:!0}},data:i},{name:"停电",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:function(t){if(t.data<0)return-t.data}}},data:s}]})}}).catch(function(t){console.log(t)})},draw_weekProcesstime:function(){var t=this;this.$http({method:"post",url:"http://132.96.194.30:8078/report/specific/",data:{statisticsType:4,year:this.myYear,month:this.myMonth,day:this.myDate}}).then(function(e){if(e.data.status){for(var a=[],i=[],s=[],n=e.data.result,r=e.data.result.length,l=0;l<r;l++)a.push(n[l].city),i.push(n[l].line_time),s.push(-1*n[l].power_time);t.$echarts.init(document.getElementById("chart_weekProcesstime")).setOption({title:{text:"线路及停电故障处理时长"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["线路故障处理时长（小时）","停电故障处理时长（小时）"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"value",axisLabel:{formatter:function(t){return Math.abs(t)}}}],yAxis:[{type:"category",axisTick:{show:!1},data:a}],series:[{name:"线路",type:"bar",stack:"总量",label:{normal:{show:!0}},data:i},{name:"停电",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:function(t){if(t.data<0)return-t.data}}},data:s}]})}}).catch(function(t){console.log(t)})},DataFilter:function(){this.table_weekCount(),this.draw_weekCount(),this.table_weekQuality(),this.draw_weekIntimeRate(),this.draw_weekAverageTime(),this.draw_weekOver48Rate(),this.table_weekAnalysis(),this.table_weekProcesstime(),this.draw_weekAnalysis(),this.draw_weekLinePower(),this.draw_weekProcesstime()}},mounted:function(){}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-header",[t._v("\n          广东电信故障工单月度管控通报\n          ")]),t._v(" "),a("span",{staticStyle:{"text-align":"center",color:"rgb(21,82,179)","font-weight":"bold"}},[t._v("\n            △全省网络故障单量情况统计\n            △全省故障工单处理质量情况分析\n            △全省故障工单处理质量情况分析\n          "),a("hr",{staticStyle:{height:"1px","background-color":"rgb(21,82,179)",border:"none"}})]),t._v(" "),a("div",{staticClass:"time-filter",staticStyle:{width:"500px",margin:"0 auto"}},[a("div",{staticClass:"block",staticStyle:{margin:"0 auto"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",[a("el-date-picker",{attrs:{clearable:"",type:"week",format:"yyyy 第 WW 周",placeholder:"选择周"},model:{value:t.valueWeek,callback:function(e){t.valueWeek=e},expression:"valueWeek"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.DataFilter()}}},[t._v("提交")])],1)],1)],1)],1)],1)]),t._v(" "),a("el-main",[a("div",{staticClass:"main"},[a("h3",[t._v("一、  全省网络故障单量情况统计")]),t._v(" "),a("div",{staticClass:"count"},[a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_weekCount"}}),t._v(" "),a("div",{staticClass:"table_weekCount"},[[a("el-table",{staticStyle:{width:"700px"},attrs:{data:t.weekCountData,"show-summary":"",border:"","span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"area",label:"区域",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"地市",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"专业",align:"center"}},[a("el-table-column",{attrs:{prop:"transmission",label:"传输",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dynamics",label:"动力",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"exchange",label:"交换",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AN",label:"接入网",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"wireless",label:"无线",minwidth:"",align:"center"}})],1),t._v(" "),a("el-table-column",{attrs:{prop:"sum",label:"合计",minwidth:"",align:"center"}})],1)]],2)]),t._v(" "),a("h3",[t._v("二、  全省故障工单处理质量情况分析")]),t._v(" "),a("div",{staticClass:"quality"},[a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_IntimeRate"}}),t._v(" "),a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_AverageTime"}}),t._v(" "),a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_Over48Rate"}}),t._v(" "),a("div",{staticClass:"table_weekQuality"},[[a("el-table",{staticStyle:{width:"700px"},attrs:{data:t.weekQualityData,"summary-method":t.getAverage,"show-summary":"",border:"","span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"area",label:"区域",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"地市",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receive",label:"签单及时率（%）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"IntimeRate",label:"故障处理及时率（%）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AverageTime",label:"平均处理时长（小时）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Over48Rate",label:"超过48小时工单占比(%)",minwidth:"",align:"center"}})],1)]],2)]),t._v(" "),a("h3",[t._v("三、  全省网络故障单原因分析")]),t._v(" "),a("div",{staticClass:"analysis"},[a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_weekAnalysis"}}),t._v(" "),a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_linePower"}}),t._v(" "),a("div",{staticClass:"table_weekAnalysis"},[[a("el-table",{staticStyle:{width:"700px"},attrs:{data:t.weekAnalysisData,"show-summary":"",border:"","span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"area",label:"区域",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"地市",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"line",label:"线路（张）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"power",label:"停电（张）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"equipment",label:"设备（张）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"environment",label:"动环(张)",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"other",label:"其他(张)",minwidth:"",align:"center"}})],1)]],2),t._v(" "),a("div",{staticStyle:{width:"900px",height:"400px",border:"1px solid"},attrs:{id:"chart_weekProcesstime"}}),t._v(" "),a("div",{staticClass:"table_weekProcesstime"},[[a("el-table",{staticStyle:{width:"700px"},attrs:{data:t.weekProcesstimeData,"summary-method":t.getAverage,"show-summary":"",border:"","span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"area",label:"区域",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"地市",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"linetime",label:"线路故障平均处理时长（小时）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"powertime",label:"停电故障平均处理时长（小时）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"equipmenttime",label:"设备故障平均处理时长（小时）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"environmenttime",label:"动环故障平均处理时长（小时）",minwidth:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"othertime",label:"其他故障平均处理时长（小时）",minwidth:"",align:"center"}})],1)]],2)])])])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("b/m/")},null,null);e.default=n.exports},"b/m/":function(t,e){}});
//# sourceMappingURL=3.c890528c449d9e6bdebd.js.map