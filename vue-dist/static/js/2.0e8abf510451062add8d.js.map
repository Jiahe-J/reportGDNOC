{"version":3,"sources":["webpack:///src/components/Weekly.vue","webpack:///./src/components/Weekly.vue?7444","webpack:///./src/components/Weekly.vue"],"names":["Weekly","data","weekOverlongData","weekLeaveData","valueWeek","valueDate","fileList","fileListTrack","computed","myBegin_datetime","this","myEnd_datetime","methods","table_weekOverlong","_this","$http","method","url","then","response","status","result","catch","error","console","log","draw_weekOverlong","_this2","cityList","CompletionRatioValueList","l","length","i","push","$echarts","init","document","getElementById","setOption","color","title","text","tooltip","trigger","axisPointer","type","legend","grid","left","right","bottom","containLabel","yAxis","boundaryGap","axisLabel","show","interval","formatter","xAxis","series","name","barWidth","table_weekLeave","_this3","chart_weekLeave","_this4","DataFilter","submitUploadTrack","$refs","uploadTrack","submit","submitUpload","upload","handleExceed","files","$message","warning","beforeAvatarUpload","file","isXLS","handleRemove","handlePreview","mounted","components_Weekly","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticStyle","text-align","font-weight","height","background-color","border","staticClass","width","margin","ref","model","form","label-width","gutter","span","start-placeholder","end-placeholder","value-format","default-time","value","callback","$$v","expression","on","click","$event","action","limit","accept","on-exceed","before-upload","on-preview","on-remove","file-list","auto-upload","slot","size","margin-left","row-style","cell-style","prop","label","align","minwidth","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.0e8abf510451062add8d.js","sourcesContent":["<template>\n  <div>\n    <el-container>\n      <el-header>\n        <a name=\"top\"></a>广东电信故障工单周度管控通报\n      </el-header>\n      <span style=\"text-align:center;color:rgb(21,82,179);font-weight:bold\">\n              △遗留跟踪单\n              △超长历时在途工单\n            <hr style=\"height:1px; background-color:rgb(21,82,179);border:none\"/>\n            </span>\n      <div class=\"time-filter\" style=\"width: 600px; margin: 0 auto\">\n        <div class=\"block\" style=\"margin: 0 auto\">\n          <el-form ref=\"form\"  :model=\"form\" label-width=\"80px\">\n            <el-row :gutter=\"200\">\n              <el-col :span=\"11\">\n                <el-form-item>\n                  <el-date-picker\n                    v-model=\"valueDate\"\n                    type=\"daterange\"\n                    start-placeholder=\"开始日期\"\n                    end-placeholder=\"结束日期\"\n                    value-format=\"yyyy-MM-dd\"\n                    :default-time=\"['00:00:00', '23:59:59']\">\n                  </el-date-picker>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"3\">\n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"DataFilter()\" >提交</el-button>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </div>\n      </div>\n      <el-main>\n        <div class=\"main\">\n          <h3>一、遗留跟踪单</h3>\n          <el-row>\n            <el-col :span=\"12\">\n              <template>\n                <el-upload\n                  class=\"upload-demo\"\n                  ref=\"uploadTrack\"\n                  action=\"http://132.96.194.30:8078/report/upload/track_data\"\n                  :limit=\"1\"\n                  accept=\"application/vnd.ms-excel\"\n                  :on-exceed=\"handleExceed\"\n                  :before-upload=\"beforeAvatarUpload\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"handleRemove\"\n                  :file-list=\"fileListTrack\"\n                  :auto-upload=\"false\">\n                  <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n                  <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUploadTrack\">上传</el-button>\n                  <span slot=\"tip\" class=\"el-upload__tip\">只能上传xls文件</span>\n                </el-upload>\n              </template>\n            </el-col>\n          </el-row>\n          <el-row>\n            <br>\n      <el-col :span=\"24\">\n        <template>\n          <el-table\n            :data=\"weekLeaveData\"\n            style=\"width: 100%\"\n            row-style=\"height:0\"\n            cell-style=\"padding:5px\"\n            border>\n            <el-table-column\n              prop=\"city\"\n              label=\"处理部门\"\n              width=\"100\"\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"sum_amount\"\n              label=\"在途遗留跟踪单（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"new_amount\"\n              label=\"本周新增在途（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"new_rate\"\n              label=\"本周新增占比（%）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"finish_amount\"\n              label=\"本周完成（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"finish_rate\"\n              label=\"本周完成占比（%）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"over1_amount\"\n              label=\"处理时间超过1个月（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"over3_amount\"\n              label=\"处理时间超过3个月（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n          </el-table>\n        </template>\n      </el-col>\n      </el-row>\n          <el-row>\n       <el-col :span=\"24\">\n      <div class=\"proportion\">\n       <div id=\"chart_LeaveProportion\" style=\"height: 400px; border: 1px solid\"></div>\n       </div>\n       </el-col>\n      </el-row>\n          <h3>二、超长历时在途工单</h3>\n          <el-row>\n            <el-col :span=\"12\">\n              <template>\n                <el-upload\n                  class=\"upload-demo\"\n                  ref=\"upload\"\n                  action=\"http://132.96.194.30:8078/report/upload/longtime_data\"\n                  :limit=\"1\"\n                  accept=\"application/vnd.ms-excel\"\n                  :on-exceed=\"handleExceed\"\n                  :before-upload=\"beforeAvatarUpload\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"handleRemove\"\n                  :file-list=\"fileList\"\n                  :auto-upload=\"false\">\n                  <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n                  <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传</el-button>\n                  <span slot=\"tip\" class=\"el-upload__tip\">只能上传xls文件</span>\n                </el-upload>\n              </template>\n            </el-col>\n          </el-row>\n          <br>\n          <el-row>\n            <el-col :span=\"24\">\n                <template>\n                  <el-table\n                    :data=\"weekOverlongData\"\n                    style=\"width: 100%\"\n                    row-style=\"height:0\"\n                    cell-style=\"padding:5px\"\n                    border>\n                    <el-table-column\n                      prop=\"city\"\n                      label=\"工单停留单位\"\n                      width=\"110\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"sum_amount\"\n                      label=\"在途网络单总数（张）\"\n                      width=\"180px\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_3_7\"\n                      label=\"故障历时72-168小时（张）\"\n                      minwidth\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_3_7_rate\"\n                      label=\"占比（%）\"\n                      width=\"100px\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_over_7\"\n                      label=\"故障历时>168小时（张）\"\n                      minwidth\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_over_7_rate\"\n                      label=\"占比（%）\"\n                      width=\"100px\"\n                      align=\"center\">\n                    </el-table-column>\n                  </el-table>\n                </template>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\">\n              <div class=\"proportion\">\n                <div id=\"chart_OverLongProportion\" style=\"height: 400px; border: 1px solid\"></div>\n              </div>\n            </el-col>\n          </el-row>\n </div>\n </el-main>\n</el-container>\n</div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      weekOverlongData: [],\n      weekLeaveData: [],\n      valueWeek: '',\n      valueDate: ['2018-01-01', '2018-01-07'],\n      fileList: [],\n      fileListTrack: []\n    }\n  },\n  computed: {\n    myBegin_datetime () {\n      return this.valueDate[0]\n    },\n    myEnd_datetime () {\n      return this.valueDate[1]\n    }\n  },\n  methods: {\n    table_weekOverlong () { // 表1\n      this.$http({\n        method: 'get',\n        url: 'http://132.96.194.30:8078/report/longtime/'\n      }).then(response => {\n        if (response.data.status) {\n          this.weekOverlongData = response.data.result\n        }\n      }).catch(error => {\n        console.log(error)\n      })\n    },\n    draw_weekOverlong () { // 图1\n      this.$http({\n        method: 'get',\n        url: 'http://132.96.194.30:8078/report/longtime/'\n      }).then(response => {\n        var cityList = []\n        var CompletionRatioValueList = []\n        var data = response.data.result\n        var l = response.data.result.length\n        for (var i = 0; i < l; i++) {\n          cityList.push(data[i]['city'])\n          CompletionRatioValueList.push(data[i]['amount_over_7_rate'])\n        }\n        let myChart = this.$echarts.init(document.getElementById('chart_OverLongProportion'))\n        myChart.setOption({\n          color: ['#5c9ad5'],\n          title: {\n            text: ' 故障历时>168小时'\n          },\n          tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n              type: 'shadow'\n            }\n          },\n          legend: {\n            data: cityList\n          },\n          grid: {\n            left: '3%',\n            right: '4%',\n            bottom: '3%',\n            containLabel: true\n          },\n          yAxis: {\n            type: 'value',\n            boundaryGap: [0, 0.01],\n            axisLabel: {\n              show: true,\n              interval: 'auto',\n              formatter: '{value} %'}\n          },\n          xAxis: {\n            type: 'category',\n            axisLabel: {\n              interval: 0 //  横轴信息全部显示\n            },\n            data: cityList\n          },\n          series: [\n            {\n              name: '本周完成占比',\n              type: 'bar',\n              barWidth: 20,\n              data: CompletionRatioValueList\n            }\n          ]\n        })\n      })\n    },\n    table_weekLeave () { // 表2\n      this.$http({\n        method: 'get',\n        url: 'http://132.96.194.30:8078/report/track/' + this.myBegin_datetime + '/' + this.myEnd_datetime + '/'\n      }).then(response => {\n        if (response.data.status) {\n          this.weekLeaveData = response.data.result\n        }\n      }).catch(error => {\n        console.log(error)\n      })\n    },\n    chart_weekLeave () { // 图2\n      this.$http({\n        method: 'get',\n        url: 'http://132.96.194.30:8078/report/track/' + this.myBegin_datetime + '/' + this.myEnd_datetime + '/'\n      }).then(response => {\n        var cityList = []\n        var CompletionRatioValueList = []\n        var data = response.data.result\n        var l = response.data.result.length\n        for (var i = 0; i < l; i++) {\n          cityList.push(data[i]['city'])\n          CompletionRatioValueList.push(data[i]['finish_rate'])\n        }\n        let myChart = this.$echarts.init(document.getElementById('chart_LeaveProportion'))\n        myChart.setOption({\n          color: ['#5c9ad5'],\n          title: {\n            text: '本周完成占比'\n          },\n          tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n              type: 'shadow'\n            }\n          },\n          legend: {\n            data: cityList\n          },\n          grid: {\n            left: '3%',\n            right: '4%',\n            bottom: '3%',\n            containLabel: true\n          },\n          yAxis: {\n            type: 'value',\n            // boundaryGap: [0, 0.01],\n            axisLabel: {\n              show: true,\n              interval: 'auto',\n              formatter: '{value} %'}\n          },\n          xAxis: {\n            type: 'category',\n            axisLabel: {\n              interval: 0 //  横轴信息全部显示\n            },\n            data: cityList\n          },\n          series: [\n            {\n              name: '本周完成占比',\n              type: 'bar',\n              barWidth: 20,\n              data: CompletionRatioValueList\n            }\n          ]\n        })\n      }\n      )\n    },\n    DataFilter () {\n      this.table_weekOverlong()\n      this.draw_weekOverlong()\n      this.table_weekLeave()\n      this.chart_weekLeave()\n    },\n    submitUploadTrack () {\n      this.$refs.uploadTrack.submit()\n    },\n    submitUpload () {\n      this.$refs.upload.submit()\n    },\n    handleExceed (files, fileList) {\n      this.$message.warning(`当前限制选择 1 个文件`)\n    },\n    beforeAvatarUpload (file) {\n      const isXLS = file.type === 'application/vnd.ms-excel'\n\n      if (!isXLS) {\n        this.$message.error('上传文件只能是xls格式!')\n      }\n      return isXLS\n    },\n    handleRemove (file, fileList) {\n      console.log(file, fileList)\n    },\n    handlePreview (file) {\n      console.log(file)\n    }\n  },\n  mounted () {\n    this.table_weekOverlong()\n    this.table_weekLeave()\n    this.draw_weekOverlong()\n    this.chart_weekLeave()\n  }\n}\n</script>\n\n<style scoped>\n  .el-header{\n    height: 180px;\n    color: rgb(110,110,110);\n    text-align: center;\n    line-height: 60px;\n    font: 28px/60px bold 微软雅黑;\n  }\n  .main {\n    margin: 0 auto;\n    width: 90%;\n  }\n  .main h3{\n    font: 18px/20px bold 微软雅黑;\n    color: rgb(130,130,130);\n    text-align:left;\n  }\n  /*.count{ width:1250px; border:1px; padding:2px; overflow:hidden ;margin: 10px 10px;}*/\n  .proportion{\n    margin-top: 30px;\n  }\n  .el-table .cell{\n    line-height: 15px;\n  }\n  .el-form-item{\n    margin-bottom: -13px;\n  }\n  .el-table thead.is-group th {\n    background: #4473c5 !important;\n  }\n  .el-table thead,.el-table--border th, .el-table__fixed-right-patch,el-table__header{\n    color: #ffffff;\n    background-color: #4473c5 !important;\n  }\n  .el-table_2_column_10 is-center ,el-table_2_column_10 is-center is-leaf,el-table_1_column_1 is-center {\n    background-color: #4473c5 !important;\n    color: #ffffff !important;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Weekly.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-header',[_c('a',{attrs:{\"name\":\"top\"}}),_vm._v(\"广东电信故障工单周度管控通报\\n      \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"text-align\":\"center\",\"color\":\"rgb(21,82,179)\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n              △遗留跟踪单\\n              △超长历时在途工单\\n            \"),_c('hr',{staticStyle:{\"height\":\"1px\",\"background-color\":\"rgb(21,82,179)\",\"border\":\"none\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"time-filter\",staticStyle:{\"width\":\"600px\",\"margin\":\"0 auto\"}},[_c('div',{staticClass:\"block\",staticStyle:{\"margin\":\"0 auto\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-row',{attrs:{\"gutter\":200}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"default-time\":['00:00:00', '23:59:59']},model:{value:(_vm.valueDate),callback:function ($$v) {_vm.valueDate=$$v},expression:\"valueDate\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.DataFilter()}}},[_vm._v(\"提交\")])],1)],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"main\"},[_c('h3',[_vm._v(\"一、遗留跟踪单\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[[_c('el-upload',{ref:\"uploadTrack\",staticClass:\"upload-demo\",attrs:{\"action\":\"http://132.96.194.30:8078/report/upload/track_data\",\"limit\":1,\"accept\":\"application/vnd.ms-excel\",\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.beforeAvatarUpload,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileListTrack,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUploadTrack}},[_vm._v(\"上传\")]),_vm._v(\" \"),_c('span',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls文件\")])],1)]],2)],1),_vm._v(\" \"),_c('el-row',[_c('br'),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.weekLeaveData,\"row-style\":\"height:0\",\"cell-style\":\"padding:5px\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"city\",\"label\":\"处理部门\",\"width\":\"100\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sum_amount\",\"label\":\"在途遗留跟踪单（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_amount\",\"label\":\"本周新增在途（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_rate\",\"label\":\"本周新增占比（%）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finish_amount\",\"label\":\"本周完成（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finish_rate\",\"label\":\"本周完成占比（%）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"over1_amount\",\"label\":\"处理时间超过1个月（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"over3_amount\",\"label\":\"处理时间超过3个月（张）\",\"minwidth\":\"\",\"align\":\"center\"}})],1)]],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"proportion\"},[_c('div',{staticStyle:{\"height\":\"400px\",\"border\":\"1px solid\"},attrs:{\"id\":\"chart_LeaveProportion\"}})])])],1),_vm._v(\" \"),_c('h3',[_vm._v(\"二、超长历时在途工单\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"http://132.96.194.30:8078/report/upload/longtime_data\",\"limit\":1,\"accept\":\"application/vnd.ms-excel\",\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.beforeAvatarUpload,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传\")]),_vm._v(\" \"),_c('span',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls文件\")])],1)]],2)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.weekOverlongData,\"row-style\":\"height:0\",\"cell-style\":\"padding:5px\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"city\",\"label\":\"工单停留单位\",\"width\":\"110\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sum_amount\",\"label\":\"在途网络单总数（张）\",\"width\":\"180px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_3_7\",\"label\":\"故障历时72-168小时（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_3_7_rate\",\"label\":\"占比（%）\",\"width\":\"100px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_over_7\",\"label\":\"故障历时>168小时（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_over_7_rate\",\"label\":\"占比（%）\",\"width\":\"100px\",\"align\":\"center\"}})],1)]],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"proportion\"},[_c('div',{staticStyle:{\"height\":\"400px\",\"border\":\"1px solid\"},attrs:{\"id\":\"chart_OverLongProportion\"}})])])],1)],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ca8ddf8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Weekly.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ca8ddf8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Weekly.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Weekly.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Weekly.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ca8ddf8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Weekly.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4ca8ddf8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Weekly.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}