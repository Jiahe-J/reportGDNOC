{"version":3,"sources":["webpack:///src/components/Weekly.vue","webpack:///./src/components/Weekly.vue?4764","webpack:///./src/components/Weekly.vue"],"names":["Weekly","data","weekOverlongData","weekLeaveData","valueWeek","valueDate","fileList","fileListTrack","link","computed","myBegin_datetime","this","myEnd_datetime","methods","table_weekOverlong","_this","$http","method","url","then","response","status","result","catch","error","console","log","draw_weekOverlong","_this2","cityList","CompletionRatioValueList","l","length","i","push","myChart","$echarts","init","document","getElementById","setOption","color","title","text","tooltip","trigger","axisPointer","type","legend","grid","left","right","bottom","containLabel","yAxis","boundaryGap","axisLabel","show","interval","formatter","xAxis","series","name","barWidth","setTimeout","imginfo","getDataURL","beginDate","endDate","weekly_longtime","table_weekLeave","_this3","draw_weekLeave","_this4","weekly_track","DataFilter","submitUploadTrack","file","$refs","uploadTrack","submit","submitUpload","upload","handleExceed","files","$message","warning","beforeAvatarUpload","isXLS","handleRemove","handlePreview","handleAvatarSuccess","res","alert","msg","mounted","components_Weekly","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","staticStyle","text-align","font-weight","height","background-color","border","staticClass","width","margin","ref","model","form","label-width","gutter","span","start-placeholder","end-placeholder","value-format","default-time","value","callback","$$v","expression","on","click","$event","href","slot","action","limit","accept","on-exceed","before-upload","on-success","on-preview","on-remove","file-list","auto-upload","size","margin-left","prop","label","align","minwidth","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.d1f1d9a50deda3dbe337.js","sourcesContent":["<template>\n  <div id=\"pdfDom\">\n    <el-container>\n      <el-header>\n        <a name=\"top\"></a>广东电信故障工单周度管控通报\n      </el-header>\n      <span style=\"text-align:center;color:rgb(21,82,179);font-weight:bold\">\n              △遗留跟踪单\n              △超长历时在途工单\n            <hr style=\"height:1px; background-color:rgb(21,82,179);border:none\"/>\n            </span>\n      <div class=\"time-filter\" style=\"width: 600px; margin: 0 auto\">\n        <div class=\"block\" style=\"margin: 0 auto\">\n          <el-form ref=\"form\"  :model=\"form\" label-width=\"80px\">\n            <el-row :gutter=\"200\">\n              <el-col :span=\"11\">\n                <el-form-item>\n                  <el-date-picker\n                    v-model=\"valueDate\"\n                    type=\"daterange\"\n                    start-placeholder=\"开始日期\"\n                    end-placeholder=\"结束日期\"\n                    value-format=\"yyyy-MM-dd\"\n                    :default-time=\"['00:00:00', '23:59:59']\">\n                  </el-date-picker>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"5\">\n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"DataFilter()\" >提交</el-button>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"5\">\n                <el-form-item>\n                  <a :href=\"link +'docx/week/'+ this.myBegin_datetime + '/' + this.myEnd_datetime\">\n                    <el-button type=\"success\" slot=\"trigger\" >下载</el-button>\n                  </a>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </div>\n      </div>\n      <el-main>\n        <div class=\"main\">\n          <h3>一、遗留跟踪单</h3>\n          <el-row>\n            <el-col :span=\"12\">\n              <template>\n                <el-upload\n                  class=\"upload-demo\"\n                  ref=\"uploadTrack\"\n                  action=\"http://132.96.194.30:8078/report/upload/track_data\"\n                  :limit=\"1\"\n                  accept=\"application/vnd.ms-excel\"\n                  :on-exceed=\"handleExceed\"\n                  :before-upload=\"beforeAvatarUpload\"\n                  :on-success=\"handleAvatarSuccess\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"handleRemove\"\n                  :file-list=\"fileListTrack\"\n                  :auto-upload=\"false\">\n                  <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n                  <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUploadTrack\">上传</el-button>\n                  <span slot=\"tip\" class=\"el-upload__tip\">只能上传xls文件</span>\n                </el-upload>\n              </template>\n            </el-col>\n          </el-row>\n          <el-row>\n            <br>\n            <el-col :span=\"24\">\n              <template>\n                <el-table\n            :data=\"weekLeaveData\"\n            style=\"width: 100%\"\n            border>\n            <el-table-column\n              prop=\"city\"\n              label=\"处理部门\"\n              width=\"100\"\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"sum_amount\"\n              label=\"在途遗留跟踪单（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"new_amount\"\n              label=\"本周新增在途（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"new_rate\"\n              label=\"本周新增占比（%）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"finish_amount\"\n              label=\"本周完成（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"finish_rate\"\n              label=\"本周完成占比（%）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"over1_amount\"\n              label=\"处理时间超过1个月（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n            <el-table-column\n              prop=\"over3_amount\"\n              label=\"处理时间超过3个月（张）\"\n              minwidth\n              align=\"center\">\n            </el-table-column>\n          </el-table>\n            </template>\n            </el-col>\n          </el-row>\n          <el-row>\n       <el-col :span=\"24\">\n      <div class=\"proportion\">\n       <div id=\"chart_LeaveProportion\" style=\"height: 400px; border: 1px solid\"></div>\n       </div>\n       </el-col>\n      </el-row>\n          <h3>二、超长历时在途工单</h3>\n          <el-row>\n            <el-col :span=\"12\">\n              <template>\n                <el-upload\n                  class=\"upload-demo\"\n                  ref=\"upload\"\n                  action=\"http://132.96.194.30:8078/report/upload/longtime_data\"\n                  :limit=\"1\"\n                  accept=\"application/vnd.ms-excel\"\n                  :on-exceed=\"handleExceed\"\n                  :before-upload=\"beforeAvatarUpload\"\n                  :on-success=\"handleAvatarSuccess\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"handleRemove\"\n                  :file-list=\"fileList\"\n                  :auto-upload=\"false\">\n                  <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n                  <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传</el-button>\n                  <span slot=\"tip\" class=\"el-upload__tip\">只能上传xls文件</span>\n                </el-upload>\n              </template>\n            </el-col>\n          </el-row>\n          <br>\n          <el-row>\n            <el-col :span=\"24\">\n                <template>\n                  <el-table\n                    :data=\"weekOverlongData\"\n                    style=\"width: 100%\"\n                    border>\n                    <el-table-column\n                      prop=\"city\"\n                      label=\"工单停留单位\"\n                      width=\"110\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"sum_amount\"\n                      label=\"在途网络单总数（张）\"\n                      width=\"180px\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_3_7\"\n                      label=\"故障历时72-168小时（张）\"\n                      minwidth\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_3_7_rate\"\n                      label=\"占比（%）\"\n                      width=\"100px\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_over_7\"\n                      label=\"故障历时>168小时（张）\"\n                      minwidth\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount_over_7_rate\"\n                      label=\"占比（%）\"\n                      width=\"100px\"\n                      align=\"center\">\n                    </el-table-column>\n                  </el-table>\n                </template>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\">\n              <div class=\"proportion\">\n                <div id=\"chart_OverLongProportion\" style=\"height: 400px; border: 1px solid\"></div>\n              </div>\n            </el-col>\n          </el-row>\n </div>\n </el-main>\n</el-container>\n</div>\n</template>\n<script>\n// import html2Canvas from 'html2canvas'\n// import JsPDF from 'jspdf'\nexport default {\n  data () {\n    return {\n      weekOverlongData: [],\n      weekLeaveData: [],\n      valueWeek: '',\n      valueDate: ['2018-01-01', '2018-01-07'],\n      fileList: [],\n      fileListTrack: [],\n      // htmlTitle: '周度管控通报'\n      link: 'http://132.96.194.30:8078/report/'\n    }\n  },\n  computed: {\n    myBegin_datetime () {\n      return this.valueDate[0]\n    },\n    myEnd_datetime () {\n      return this.valueDate[1]\n    }\n  },\n  methods: {\n    /*  Down () {\n      var title = this.htmlTitle\n      html2Canvas(document.querySelector('#pdfDom'), {\n        allowTaint: true\n      }).then(function (canvas) {\n        let contentWidth = canvas.width\n        let contentHeight = canvas.height\n        let pageHeight = contentWidth / 592.28 * 841.89\n        let leftHeight = contentHeight\n        let position = 0\n        let imgWidth = 595.28\n        let imgHeight = 592.28 / contentWidth * contentHeight\n        let pageData = canvas.toDataURL('image/jpeg', 1.0)\n        let PDF = new JsPDF('', 'pt', 'a4')\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= 841.89\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n        PDF.save(title + '.pdf')\n      })\n    },  */\n    table_weekOverlong () { // 表1\n      this.$http({\n        method: 'get',\n        url: this.link + 'longtime/'\n      }).then(response => {\n        if (response.data.status) {\n          this.weekOverlongData = response.data.result\n        }\n      }).catch(error => {\n        console.log(error)\n      })\n    },\n    draw_weekOverlong () { // 图1\n      this.$http({\n        method: 'get',\n        url: this.link + 'longtime/'\n      }).then(response => {\n        var cityList = []\n        var CompletionRatioValueList = []\n        var data = response.data.result\n        var l = response.data.result.length\n        for (var i = 0; i < l; i++) {\n          cityList.push(data[i]['city'])\n          CompletionRatioValueList.push(data[i]['amount_over_7_rate'])\n        }\n        let myChart = this.$echarts.init(document.getElementById('chart_OverLongProportion'))\n        myChart.setOption({\n          color: ['#5c9ad5'],\n          title: {\n            text: ' 故障历时>168小时'\n          },\n          tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n              type: 'shadow'\n            }\n          },\n          legend: {\n            data: cityList\n          },\n          grid: {\n            left: '3%',\n            right: '4%',\n            bottom: '3%',\n            containLabel: true\n          },\n          yAxis: {\n            type: 'value',\n            boundaryGap: [0, 0.01],\n            axisLabel: {\n              show: true,\n              interval: 'auto',\n              formatter: '{value} %'}\n          },\n          xAxis: {\n            type: 'category',\n            axisLabel: {\n              interval: 0 //  横轴信息全部显示\n            },\n            data: cityList\n          },\n          series: [\n            {\n              name: '本周完成占比',\n              type: 'bar',\n              barWidth: 20,\n              data: CompletionRatioValueList\n            }\n          ]\n        })\n        setTimeout(() => {\n          var imginfo = myChart.getDataURL()\n          this.$http({\n            method: 'post',\n            url: this.link + 'image',\n            data: {\n              type: 'week',\n              beginDate: this.myBegin_datetime,\n              endDate: this.myEnd_datetime,\n              weekly_longtime: imginfo\n            }\n          }).then(response => {\n          })\n        }, 100)\n      })\n    },\n    table_weekLeave () { // 表2\n      this.$http({\n        method: 'get',\n        url: this.link + 'track/' + this.myBegin_datetime + '/' + this.myEnd_datetime + '/'\n      }).then(response => {\n        if (response.data.status) {\n          this.weekLeaveData = response.data.result\n        }\n      }).catch(error => {\n        console.log(error)\n      })\n    },\n    draw_weekLeave () { // 图2\n      this.$http({\n        method: 'get',\n        url: this.link + 'track/' + this.myBegin_datetime + '/' + this.myEnd_datetime + '/'\n      }).then(response => {\n        var cityList = []\n        var CompletionRatioValueList = []\n        var data = response.data.result\n        var l = response.data.result.length\n        for (var i = 0; i < l; i++) {\n          cityList.push(data[i]['city'])\n          CompletionRatioValueList.push(data[i]['finish_rate'])\n        }\n        let myChart = this.$echarts.init(document.getElementById('chart_LeaveProportion'))\n        myChart.setOption({\n          color: ['#5c9ad5'],\n          title: {\n            text: '本周完成占比'\n          },\n          tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n              type: 'shadow'\n            }\n          },\n          legend: {\n            data: cityList\n          },\n          grid: {\n            left: '3%',\n            right: '4%',\n            bottom: '3%',\n            containLabel: true\n          },\n          yAxis: {\n            type: 'value',\n            // boundaryGap: [0, 0.01],\n            axisLabel: {\n              show: true,\n              interval: 'auto',\n              formatter: '{value} %'}\n          },\n          xAxis: {\n            type: 'category',\n            axisLabel: {\n              interval: 0 //  横轴信息全部显示\n            },\n            data: cityList\n          },\n          series: [\n            {\n              name: '本周完成占比',\n              type: 'bar',\n              barWidth: 20,\n              data: CompletionRatioValueList\n            }\n          ]\n        })\n        setTimeout(() => {\n          var imginfo = myChart.getDataURL()\n          this.$http({\n            method: 'post',\n            url: this.link + 'image',\n            data: {\n              type: 'week',\n              beginDate: this.myBegin_datetime,\n              endDate: this.myEnd_datetime,\n              weekly_track: imginfo\n            }\n          }).then(response => {\n          })\n        }, 100)\n      }\n      )\n    },\n    DataFilter () {\n      this.table_weekOverlong()\n      this.draw_weekOverlong()\n      this.table_weekLeave()\n      this.draw_weekLeave()\n    },\n    submitUploadTrack (file) {\n      this.$refs.uploadTrack.submit()\n      // let fd = new FormData()\n      // fd.append('file', file)\n    },\n    submitUpload () {\n      this.$refs.upload.submit()\n      // this.$message.info(msg)\n    },\n    handleExceed (files, fileList) {\n      this.$message.warning(`当前限制选择 1 个文件`)\n    },\n    beforeAvatarUpload (file) {\n      const isXLS = file.type === 'application/vnd.ms-excel'\n\n      if (!isXLS) {\n        this.$message.error('上传文件只能是xls格式!')\n      }\n      return isXLS\n    },\n    handleRemove (file, fileList) {\n      console.log(file, fileList)\n    },\n    handlePreview (file) {\n      console.log(file)\n    },\n    handleAvatarSuccess (res, file, fileList) {\n      alert(res.msg)\n    }\n  },\n  mounted () {\n    this.table_weekOverlong()\n    this.table_weekLeave()\n    this.draw_weekOverlong()\n    this.draw_weekLeave()\n  }\n}\n</script>\n\n<style scoped>\n  .el-header{\n    height: 180px;\n    color: rgb(110,110,110);\n    text-align: center;\n    line-height: 60px;\n    font: 28px/60px bold 微软雅黑;\n  }\n  .main {\n    margin: 0 auto;\n    width: 90%;\n  }\n  .main h3{\n    font: 18px/20px bold 微软雅黑;\n    color: rgb(130,130,130);\n    text-align:left;\n  }\n  /*.count{ width:1250px; border:1px; padding:2px; overflow:hidden ;margin: 10px 10px;}*/\n  .proportion{\n    margin-top: 30px;\n  }\n  .el-table .cell{\n    line-height: 15px;\n  }\n  .el-form-item{\n    margin-bottom: -13px;\n  }\n  .el-table thead.is-group th {\n    background: #4473c5 !important;\n  }\n  .el-table th, .el-table tr {\n    background-color: #4473c5 !important;\n  }\n  .el-table thead.has-gutter{\n    color: #ffffff;\n    background-color: #4473c5 !important;\n  }\n  .el-table thead,.el-table--border th, .el-table__fixed-right-patch,el-table__header{\n    color: #ffffff;\n    background-color: #4473c5 !important;\n  }\n  .el-table thead, .el-table--border th, .el-table__fixed-right-patch {\n    color: #ffffff;\n    background-color: #4473c5 !important;\n  }\n  .el-table_2_column_10 is-center ,el-table_2_column_10 is-center is-leaf,el-table_1_column_1 is-center {\n    background-color: #4473c5 !important;\n    color: #ffffff !important;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Weekly.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"pdfDom\"}},[_c('el-container',[_c('el-header',[_c('a',{attrs:{\"name\":\"top\"}}),_vm._v(\"广东电信故障工单周度管控通报\\n      \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"text-align\":\"center\",\"color\":\"rgb(21,82,179)\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n              △遗留跟踪单\\n              △超长历时在途工单\\n            \"),_c('hr',{staticStyle:{\"height\":\"1px\",\"background-color\":\"rgb(21,82,179)\",\"border\":\"none\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"time-filter\",staticStyle:{\"width\":\"600px\",\"margin\":\"0 auto\"}},[_c('div',{staticClass:\"block\",staticStyle:{\"margin\":\"0 auto\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-row',{attrs:{\"gutter\":200}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"default-time\":['00:00:00', '23:59:59']},model:{value:(_vm.valueDate),callback:function ($$v) {_vm.valueDate=$$v},expression:\"valueDate\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.DataFilter()}}},[_vm._v(\"提交\")])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',[_c('a',{attrs:{\"href\":_vm.link +'docx/week/'+ this.myBegin_datetime + '/' + this.myEnd_datetime}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"type\":\"success\"},slot:\"trigger\"},[_vm._v(\"下载\")])],1)])],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"main\"},[_c('h3',[_vm._v(\"一、遗留跟踪单\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[[_c('el-upload',{ref:\"uploadTrack\",staticClass:\"upload-demo\",attrs:{\"action\":\"http://132.96.194.30:8078/report/upload/track_data\",\"limit\":1,\"accept\":\"application/vnd.ms-excel\",\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileListTrack,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUploadTrack}},[_vm._v(\"上传\")]),_vm._v(\" \"),_c('span',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls文件\")])],1)]],2)],1),_vm._v(\" \"),_c('el-row',[_c('br'),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.weekLeaveData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"city\",\"label\":\"处理部门\",\"width\":\"100\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sum_amount\",\"label\":\"在途遗留跟踪单（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_amount\",\"label\":\"本周新增在途（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_rate\",\"label\":\"本周新增占比（%）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finish_amount\",\"label\":\"本周完成（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finish_rate\",\"label\":\"本周完成占比（%）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"over1_amount\",\"label\":\"处理时间超过1个月（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"over3_amount\",\"label\":\"处理时间超过3个月（张）\",\"minwidth\":\"\",\"align\":\"center\"}})],1)]],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"proportion\"},[_c('div',{staticStyle:{\"height\":\"400px\",\"border\":\"1px solid\"},attrs:{\"id\":\"chart_LeaveProportion\"}})])])],1),_vm._v(\" \"),_c('h3',[_vm._v(\"二、超长历时在途工单\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"http://132.96.194.30:8078/report/upload/longtime_data\",\"limit\":1,\"accept\":\"application/vnd.ms-excel\",\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传\")]),_vm._v(\" \"),_c('span',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls文件\")])],1)]],2)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.weekOverlongData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"city\",\"label\":\"工单停留单位\",\"width\":\"110\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sum_amount\",\"label\":\"在途网络单总数（张）\",\"width\":\"180px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_3_7\",\"label\":\"故障历时72-168小时（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_3_7_rate\",\"label\":\"占比（%）\",\"width\":\"100px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_over_7\",\"label\":\"故障历时>168小时（张）\",\"minwidth\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amount_over_7_rate\",\"label\":\"占比（%）\",\"width\":\"100px\",\"align\":\"center\"}})],1)]],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"proportion\"},[_c('div',{staticStyle:{\"height\":\"400px\",\"border\":\"1px solid\"},attrs:{\"id\":\"chart_OverLongProportion\"}})])])],1)],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-963c1e08\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Weekly.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-963c1e08\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Weekly.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Weekly.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Weekly.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-963c1e08\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Weekly.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-963c1e08\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Weekly.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}